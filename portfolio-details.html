<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Our Woodwork Projects | Sai Wood Treats Portfolio</title>
  <meta name="description" content="Explore Sai Wood Treats' portfolio of premium wooden interiors, doors, flooring, and customized wood solutions for homes, hotels, and resorts. View our latest projects.">
  <meta name="keywords" content="Sai Wood Treats portfolio, Sai Wood Treats wooden interior projects, Sai Wood Treats custom wood designs, Sai Wood Treats wooden doors, Sai Wood Treats wooden flooring, Sai Wood Treats modular kitchen woodwork, Sai Wood Treats hotel wood interiors, Sai Wood Treats resort wood solutions, Sai Wood Treats premium woodworks, Sai Wood Treats custom wooden furniture">
  <meta property="og:title" content="Sai Wood Treats - Custom Wooden Interiors & Design Portfolio">
  <meta property="og:description" content="Discover our expert woodwork projects, including wooden doors, flooring, ceilings, and custom wood interiors. Perfect for homes, hotels, and resorts.">
  <meta property="og:url" content="https://saiwoodtreats.com/portfolio-details">
  <meta property="og:type" content="website">
  <style>
    .card {
      overflow: hidden;
    }

    .portfolio-filters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 20px;

    }

    .portfolio-filters li {
      margin: 5px;
      padding: 10px 15px;
      cursor: pointer;
      border: 1px solid transparent;
      transition: border-color 0.3s;
    }
    .viewbtn{
      cursor: pointer;
      color: coral;
    }
    #loadMoreBtn {
      background-color: #ffc451;
      color: #151515;
      border: none;
      padding: 14px 40px;
      font-size: 16px;
      font-weight: 600;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px 0 rgba(255, 196, 81, 0.3);
      display: none;
      margin: 0 auto;
    }
    #loadMoreBtn:hover {
      background-color: #ffb520;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px 0 rgba(255, 196, 81, 0.5);
    }
    #loadMoreBtn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }
    #loadMoreContainer {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
    }
  </style>
  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">
  <!-- =======================================================
  * Template Name: Gp
  * Template URL: https://bootstrapmade.com/gp-free-multipurpose-html-bootstrap-template/
  * Updated: Aug 15 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
  <style>
    .glightbox {

      object-fit: contain !important;
    }
  </style>
</head>

<body class="portfolio-details-page">
  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl  d-flex align-items-center justify-content-lg-between">
      <a href="index.html" class="logo d-flex align-items-center me-auto me-lg-0">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <!-- <img src="assets/img/logo.png" alt=""> -->
        <h2 class="sitename fs-1 fs-md-2 fs-lg-3">Sai Wood Treats</h2>
        <span class=" d-none d-lg-block">.</span>
      </a>
      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html#hero">Home<br></a></li>
          <li><a href="index.html#about">About</a></li>
          <li><a href="index.html#services">Services</a></li>
          <li><a href="index.html#Gallery" class="active">Gallery</a></li>
          <!-- <li><a href="#clients">Clients</a></li> -->
          <li><a href="wood-supply.html">Wood Supply</a></li>
          <li><a href="contact.html">Contact</a></li>
          <a class="btn-getstarted mx-3 tab-view d-flex  justify-content-center  d-lg-none  gap-2 align-items-center  px-5 py-2  rounded bg-success"
            href="https://wa.me/+919447005258" target="_blank"> <i class="bi bi-whatsapp"></i>
            Whatsapp</a>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>
      <a class="btn-getstarted d-none d-lg-flex d-flex justify-content-between gap-2 align-items-center  px-4 py-2 rounded bg-success"
        href="https://wa.me/+919447005258" target="_blank"> <i class="bi bi-whatsapp"></i>
        Whatsapp</a>
    </div>
  </header>

  <main id="Gallery" class="main">
    <!-- Page Title -->
    <div class="page-title" data-aos="fade">
      <div class="heading">
        <div class="container">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-8">
              <h1>Gallery Details</h1>
              <p class="mb-0">Discover the artistry of Sai Wood Treats through our curated gallery, showcasing our
                finest works in wood treatment and interior design. From elegant doors and ceilings to custom kitchen
                finishes, every piece reflects our commitment to craftsmanship and quality. Browse through stunning
                transformations of resorts, hotels, apartments, and homes. Let our work inspire your next interior
                project!</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <section id="Gallery" class="portfolio section">
      <div class="container">
        <div class="profolio-container isotope-layout" data-default-filter="*" data-layout="masonry"
          data-sort="original-order">
          <ul id="portfolio-filters" class="portfolio-filters isotope-filters responsive-filters" data-aos="fade-up"
            data-aos-delay="100">
            <li class="filter-active" data-filter="*">All Images</li>
            <!-- Dynamic filters will be generated from API categoryFolderMap -->
          </ul>
          <div class="portfolio-grid  row min-h-100" data-aos="fade-up" data-aos-delay="200" id="portfolio-grid">
          </div>
          
          <!-- Load More Button -->
          <div id="loadMoreContainer" class="mt-5 mb-4">
            <button id="loadMoreBtn">
              <i class="bi bi-arrow-down-circle"></i> Load More Images
            </button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer id="footer" class="footer dark-background">
    <div class="footer-top">
      <div class="container">
        <div class="row  justify-content-md-center  gy-4">
          <div class="col-lg-6 col-md-6 footer-about">
            <a href="index.html" class="logo d-flex align-items-center">
              <span class="sitename">Sai Wood Treats </span>
            </a>
            <div class="footer-contact pt-3">
              <p>21/75-9,Sastha Nagar</p>
              <p>Kollamcode , Tamil Nadu</p>
              <p>Pincode :629160</p>
              <p>GSTIN Number: 33AIIPA6764B1ZO </p>
              <p class="mt-3"> <a href="https://wa.me/+919447005258"><strong>Phone:</strong><span>+91
                    9447005258</span></a></p>
              <p><a href="mailto:saiwoodtreats@gmail.com"> <strong>Email:</strong> <span>saiwoodtreats@gmail.com
                  </span></a></p>
            </div>
            <div class="social-links d-flex mt-4">
              <a
                href="https://www.instagram.com/saiwoodtreats?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="><i
                  class="bi bi-instagram "></i></a>
            </div>
          </div>
          <div class="d-flex  col-lg-6  justify-content-md-center my-sm-5 justify-content-lg-end footer-about">
            <div class="col-md-3  mx-lg-5  footer-links">
              <h4>Our Services</h4>
              <ul>
                <li><i class="bi bi-chevron-right"></i> <a href="service-details.html">Wood Furnitures</a></li>
                <li><i class="bi bi-chevron-right"></i> <a href="service-details.html">Resistance</a></li>
                <li><i class="bi bi-chevron-right"></i> <a href="service-details.html"> House wood furnitures</a></li>
                <li><i class="bi bi-chevron-right"></i> <a href="service-details.html"> Hotels</a></li>
                <li><i class="bi bi-chevron-right"></i> <a href="service-details.html">Customized Woods</a></li>
              </ul>
            </div>
            <div class=" col-md-3 footer-links">
              <h4>Useful Links</h4>
              <ul>
                <li><i class="bi bi-chevron-right"></i> <a href="index.html"> Home</a></li>
                <li><i class="bi bi-chevron-right"></i> <a href="index.html#about"> About us</a></li>
                <li><i class="bi bi-chevron-right"></i> <a href="service-details.html"> Services</a></li>
                <li><i class="bi bi-chevron-right"></i> <a href="portfolio-details.html"> Gallery</a></li>
                <li><i class="bi bi-chevron-right"></i> <a href="wood-supply.html"> Wood Supply</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="copyright">
      <div class="container text-center">
        <p> <span>Copyright</span> <strong class="px-1 sitename">Sai Wood Treats </strong> <span>All Rights
            Reserved</span></p>
        <div class="credits">
          Designed by <a href="https://innotechtitans.in/">Innotech Titans</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Whatsapp button -->
  <a href="https://wa.me/+919447005258" id="whatsapp-btn"
    class="whatsapp-btn d-flex align-items-center justify-content-center" target="_blank">
    <i class="bi bi-whatsapp"></i>
  </a>
  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>
  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->

  <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script> -->
  <script>
    // Fetch images dynamically from API with pagination
    let images = [];
    let currentOffset = 0;
    const IMAGES_PER_PAGE = 20;
    let hasMoreImages = true;
    let isLoading = false;
    let currentFilter = "*";
    let categoryFolderMap = {}; // Store category to folder name mapping

    // Fetch images from the API
    async function loadGalleryImages(append = false) {
      if (isLoading || (!hasMoreImages && append)) return;
      
      isLoading = true;
      const loadMoreBtn = document.getElementById('loadMoreBtn');
      if (loadMoreBtn) {
        loadMoreBtn.disabled = true;
        loadMoreBtn.innerHTML = '<i class="bi bi-hourglass-split"></i> Loading...';
      }

      try {
        const response = await fetch(`/api/gallery?limit=${IMAGES_PER_PAGE}&offset=${currentOffset}`);
        if (!response.ok) {
          throw new Error('Failed to fetch gallery images');
        }
        const data = await response.json();
        
        if (append) {
          images = [...images, ...(data.images || [])];
        } else {
          images = data.images || [];
        }
        
        // Store categoryFolderMap from API
        if (data.categoryFolderMap) {
          categoryFolderMap = data.categoryFolderMap;
        }
        
        hasMoreImages = data.hasMore || false;
        currentOffset = data.offset + data.images.length;
        
        console.log(`Loaded ${data.images.length} images (Total: ${images.length}/${data.total})`);
        
        // Initialize or update gallery
        if (!append) {
          initializeGallery();
        } else {
          renderImages(currentFilter);
        }

        // Update Load More button
        if (loadMoreBtn) {
          if (hasMoreImages) {
            loadMoreBtn.disabled = false;
            loadMoreBtn.innerHTML = '<i class="bi bi-arrow-down-circle"></i> Load More';
          } else {
            loadMoreBtn.style.display = 'none';
          }
        }
      } catch (error) {
        console.error('Error loading gallery:', error);
        // Fallback: show error message
        const portfolioGrid = document.getElementById('portfolio-grid');
        if (portfolioGrid && !append) {
          portfolioGrid.innerHTML = `
            <div class="col-12 text-center">
              <p class="text-danger">Failed to load gallery images. Please try again later.</p>
            </div>
          `;
        }
      } finally {
        isLoading = false;
      }
    }

    function initializeGallery() {
      // Add filters to the portfolio
      const portfolioFilters = document.getElementById('portfolio-filters');
      if (portfolioFilters && Object.keys(categoryFolderMap).length > 0) {
        // Use all categories from categoryFolderMap (ensures all folders show even if not in first 20 images)
        let filtersHTML = '<li class="filter-active" data-filter="*">All Images</li>';
        
        Object.keys(categoryFolderMap).forEach(category => {
          const folderName = categoryFolderMap[category];
          const displayName = formatFolderName(folderName);
          filtersHTML += `<li data-filter=".${category}">${displayName}</li>`;
        });
        portfolioFilters.innerHTML = filtersHTML;
        
        // Attach filter event listeners
        const filterItems = document.querySelectorAll('#portfolio-filters li');
        filterItems.forEach(filter => {
          filter.addEventListener('click', function () {
            const selectedFilter = this.getAttribute('data-filter');
            currentFilter = selectedFilter; // Store current filter
            renderImages(selectedFilter);
            filterItems.forEach(f => f.classList.remove('filter-active'));
            this.classList.add('filter-active');
          });
        });
      }

      // Initial render
      renderImages();
      
      // Show load more button if there are more images
      const loadMoreBtn = document.getElementById('loadMoreBtn');
      if (loadMoreBtn && hasMoreImages) {
        loadMoreBtn.style.display = 'block';
      }
    }

    // Load gallery images when page loads
    document.addEventListener('DOMContentLoaded', function() {
      loadGalleryImages();
      
      // Add Load More button click handler
      const loadMoreBtn = document.getElementById('loadMoreBtn');
      if (loadMoreBtn) {
        loadMoreBtn.addEventListener('click', () => loadGalleryImages(true));
      }
    });

    // Generate portfolio grid dynamically
    const portfolioGrid = document.getElementById('portfolio-grid');
    function renderImages(filter = "*") {
      portfolioGrid.innerHTML = "";
      images
        .filter(image => filter === "*" || image.category === filter.replace('.', ''))
        .forEach((image, index) => {
          const itemHTML = `
            <div class="col-md-4 portfolio-item ${image.category}" style="margin-bottom: 20px;">
              <div class="card" style="width: 100%; height: 100%;">
                <img class="card-img-top" src="${image.src}" alt="${image.title}" loading="lazy" style="height: 250px; object-fit: cover;">
                <div class="card-body">
                  <p class="card-text">${image.title}</p>
                  <button class="viewbtn w-100" onclick="openImageViewer('${image.src}', ${index})">
                    <i class="bi bi-eye"></i> View
                  </button>
                </div>
              </div>
            </div>
          `;
          portfolioGrid.innerHTML += itemHTML;
        });
    }

    // Filter functionality (this will be re-attached in DOMContentLoaded)
    const filters = document.querySelectorAll('#portfolio-filters li');
    filters.forEach(filter => {
      filter.addEventListener('click', function () {
        const selectedFilter = this.getAttribute('data-filter');
        renderImages(selectedFilter);
        filters.forEach(f => f.classList.remove('filter-active'));
        this.classList.add('filter-active');
      });
    });

    // Image viewer modal (your existing code remains the same)
    const modal = document.createElement('div');
    modal.innerHTML = `
      <div id="imageViewerModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 9999;">
        <span class="close" style="position: absolute; right: 25px; top: 15px; color: #fff; font-size: 35px; cursor: pointer;">&times;</span>
        <a class="prev" style="position: absolute; left: 25px; top: 50%; color: #fff; font-size: 35px; cursor: pointer; transform: translateY(-50%);">&#10094;</a>
        <a class="next" style="position: absolute; right: 25px; top: 50%; color: #fff; font-size: 35px; cursor: pointer; transform: translateY(-50%);">&#10095;</a>
        <img id="modalImage" style="max-width: 90%; max-height: 90vh; margin: auto; display: block; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
      </div>
    `;
    document.body.appendChild(modal);

    let currentImageIndex = 0;
    
    // Function to format folder names for display
    function formatFolderName(folderPath) {
      // Extract last part of folder path (e.g., "sai-photo/album/house-work" -> "house-work")
      const folderName = folderPath.split('/').pop();
      
      // Convert hyphen-separated to Title Case
      return folderName
        .split('-')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1))
        .join(' ');
    }
    
    function openImageViewer(src, index) {
      const modal = document.getElementById('imageViewerModal');
      const modalImg = document.getElementById('modalImage');
      currentImageIndex = index;
      modalImg.src = src;
      modal.style.display = "block";
    }

    // Close button
    document.querySelector('.close').onclick = function() {
      document.getElementById('imageViewerModal').style.display = "none";
    }

    // Click outside to close
    document.getElementById('imageViewerModal').onclick = function(e) {
      if (e.target === this) {
        this.style.display = "none";
      }
    }

    // Previous button
    document.querySelector('.prev').onclick = function() {
      currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
      document.getElementById('modalImage').src = images[currentImageIndex].src;
    }

    // Next button
    document.querySelector('.next').onclick = function() {
      currentImageIndex = (currentImageIndex + 1) % images.length;
      document.getElementById('modalImage').src = images[currentImageIndex].src;
    }

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      const modal = document.getElementById('imageViewerModal');
      if (modal.style.display === "block") {
        if (e.key === "ArrowLeft") {
          document.querySelector('.prev').click();
        } else if (e.key === "ArrowRight") {
          document.querySelector('.next').click();
        } else if (e.key === "Escape") {
          modal.style.display = "none";
        }
      }
    });
  </script>
</body>

</html>